<html xmlns:f="http://typo3.org/ns/TYPO3/CMS/Fluid/ViewHelpers" xmlns:xo="http://typo3.org/ns/Ps/Xo/ViewHelpers" data-namespace-typo3-fluid="true">
	<f:layout name="Default"/>

	<f:section name="Main">
		<f:flashMessages/>

		<f:if condition="{bicycles}">
			<f:render section="Listing" arguments="{_all}" />
			<f:render section="Modal" arguments="{_all}" />
		</f:if>
	</f:section>

	<f:section name="Listing">
		<div class="row bicycle-listing">
			<f:for each="{bicycles}" as="bicycle">
				<div class="col-12 col-md-6 col-lg-4">
					<f:render section="Item" arguments="{_all}" />
				</div>
			</f:for>
		</div>
	</f:section>

	<f:section name="Item">
		<div class="bicycle-item" data-target-uri="{f:uri.action(action: 'show', arguments: '{bicycle: bicycle}', pageUid: settings.showPageUid, pageType: settings.fetchRequestTypeNum)}" title="{f:translate(key: 'item.title', arguments: {0: bicycle.title})}">
			<div class="bicycle-item--image">
				<f:render partial="Components/Media" section="Picture" arguments="{
					file: bicycle.media.0,
					image: {maxWidth: 700, cropVariant: 'listing', title: '{f:translate(key: \'item.title\', arguments: {0: bicycle.title})}'},
					sizes: {
						0: {maxWidth: 315, mediaQuery: '(min-width: 992px)', cropVariant: 'listing'},
						1: {maxWidth: 445, mediaQuery: '(min-width: 768px)', cropVariant: 'listing'},
						2: {maxWidth: 700, mediaQuery: '(min-width: 1px)', cropVariant: 'listing'}
					}
				}" />
			</div>

			<div class="bicycle-item--footer">
				<div class="bicycle-item--body">
					<div class="bicycle-item--title">{bicycle.title}</div>

					<f:if condition="{bicycle.brand}">
						<div class="bicycle-item--brand">{bicycle.brand}</div>
					</f:if>
				</div>
				<div class="bicycle-item--price-container">
					<f:render section="Price" arguments="{bicycle: bicycle}" />
				</div>
			</div>
		</div>
	</f:section>

	<f:section name="Price">
		<f:if condition="{bicycle.discountPrice}">
			<f:then>
				<div class="bicycle-item--price bicycle-item--price-original"><f:format.currency>{bicycle.price}</f:format.currency></div>
				<div class="bicycle-item--price bicycle-item--price-current"><f:format.currency>{bicycle.discountPrice}</f:format.currency></div>
			</f:then>
			<f:else>
				<div class="bicycle-item--price bicycle-item--price-current"><f:format.currency>{bicycle.price}</f:format.currency></div>
			</f:else>
		</f:if>
	</f:section>

	<f:section name="Modal">
		<div id="bicycle-modal" class="modal--container bicycle-modal" aria-hidden="true">
			<div tabindex="-1" data-micromodal-close class="modal--backdrop">
				<button title="{f:translate(key: 'actions.closeModal')}" aria-label="{f:translate(key: 'actions.closeModal')}" data-micromodal-close class="modal--close"><xo:svg.inline source="assets/svg/close.svg" /></button>
				<div role="dialog" aria-modal="true" class="modal"></div>
			</div>
		</div>
	</f:section>

	<f:section name="Modal-TEST">

		<script>
			//xna.fire('modalTest');
		</script>

		<div id="bicycle-modalx" class="modal--container bicycle-modal" aria-hidden="true">
			<div tabindex="-1" data-micromodal-close class="modal--backdrop">
				<button title="{f:translate(key: 'actions.closeModal')}" aria-label="{f:translate(key: 'actions.closeModal')}" data-micromodal-close class="modal--close"><xo:svg.inline source="assets/svg/close.svg" /></button>
				<div role="dialog" aria-modal="true" class="modal">





					<div class="bicycle-modal--content bicycle-modal--data"><div class="bicycle-modal--image"><div class="slider"><div class="slider--container"><div class="slider--item"><picture><source srcset="/fileadmin/_processed_/b/3/csm_454100_O1_c433c62e6d.jpg" media="(min-width: 768px)" /><source srcset="/fileadmin/_processed_/b/3/csm_454100_O1_7e351b1945.jpg" media="(min-width: 1px)" /><img src="/fileadmin/_processed_/b/3/csm_454100_O1_481826838f.jpg" width="1040" height="624" alt="" title="" /></picture></div><div class="slider--item"><picture><source srcset="/fileadmin/_processed_/e/4/csm_454100_D1_9909f7839a.jpg" media="(min-width: 768px)" /><source srcset="/fileadmin/_processed_/e/4/csm_454100_D1_2291de74e5.jpg" media="(min-width: 1px)" /><img src="/fileadmin/_processed_/e/4/csm_454100_D1_fac77a2ebd.jpg" width="1040" height="624" alt="" title="" /></picture></div><div class="slider--item"><picture><source srcset="/fileadmin/_processed_/1/a/csm_454100_D2_d9b3b2f731.jpg" media="(min-width: 768px)" /><source srcset="/fileadmin/_processed_/1/a/csm_454100_D2_649397db05.jpg" media="(min-width: 1px)" /><img src="/fileadmin/_processed_/1/a/csm_454100_D2_48ebb686f0.jpg" width="1040" height="624" alt="" title="" /></picture></div><div class="slider--item"><picture><source srcset="/fileadmin/_processed_/b/6/csm_454100_D3_96bb9a82f0.jpg" media="(min-width: 768px)" /><source srcset="/fileadmin/_processed_/b/6/csm_454100_D3_1fa471eb5a.jpg" media="(min-width: 1px)" /><img src="/fileadmin/_processed_/b/6/csm_454100_D3_dccf499aa5.jpg" width="1040" height="624" alt="" title="" /></picture></div><div class="slider--item"><picture><source srcset="/fileadmin/_processed_/9/f/csm_454100_D5_79209802a6.jpg" media="(min-width: 768px)" /><source srcset="/fileadmin/_processed_/9/f/csm_454100_D5_d13d2f9cb1.jpg" media="(min-width: 1px)" /><img src="/fileadmin/_processed_/9/f/csm_454100_D5_50c2cea33d.jpg" width="1040" height="624" alt="" title="" /></picture></div><div class="slider--item"><picture><source srcset="/fileadmin/_processed_/e/e/csm_454100_D4_861c77d728.jpg" media="(min-width: 768px)" /><source srcset="/fileadmin/_processed_/e/e/csm_454100_D4_3a22d6584b.jpg" media="(min-width: 1px)" /><img src="/fileadmin/_processed_/e/e/csm_454100_D4_7163b87d92.jpg" width="1040" height="624" alt="" title="" /></picture></div></div><div class="slider--controls"><div class="slider--controls-inner"><div class="slider--prev"><button aria-label="Zurück"><svg viewBox="0 0 34 135" xmlns="http://www.w3.org/2000/svg" fill-rule="evenodd" clip-rule="evenodd" stroke-linejoin="round" stroke-miterlimit="2" fill="#2d808d"><path d="M331.332,378.962C331.333,378.693 331.389,378.423 331.499,378.171C335.727,368.463 355.469,323.144 359.697,313.436C359.909,312.95 360.305,312.568 360.799,312.374C361.293,312.18 361.843,312.19 362.33,312.401C362.596,312.517 362.87,312.637 363.136,312.753C363.622,312.964 364.004,313.361 364.198,313.854C364.392,314.348 364.382,314.899 364.171,315.385C359.888,325.216 339.733,371.485 336.833,378.142C336.611,378.652 336.611,379.231 336.833,379.74C339.735,386.401 359.911,432.719 364.196,442.555C364.637,443.568 364.173,444.746 363.161,445.187C362.887,445.307 362.604,445.43 362.33,445.549C361.843,445.761 361.293,445.771 360.799,445.577C360.305,445.383 359.909,445.001 359.697,444.515C355.469,434.807 335.727,389.488 331.499,379.78C331.389,379.528 331.333,379.258 331.332,378.988L331.332,378.969L331.332,378.962Z" transform="matrix(1,0,0,1,-331.332,-311.603) matrix(1.22563,0,0,2.33454,-312.985,-1728.65) matrix(0.815904,0,0,0.42835,255.366,740.467)"/></svg></button></div><div class="slider--next"><button aria-label="Weiter"><svg viewBox="0 0 34 135" xmlns="http://www.w3.org/2000/svg" fill-rule="evenodd" clip-rule="evenodd" stroke-linejoin="round" stroke-miterlimit="2" fill="#2d808d"><path d="M331.332,378.962C331.333,378.693 331.389,378.423 331.499,378.171C335.727,368.463 355.469,323.144 359.697,313.436C359.909,312.95 360.305,312.568 360.799,312.374C361.293,312.18 361.843,312.19 362.33,312.401C362.596,312.517 362.87,312.637 363.136,312.753C363.622,312.964 364.004,313.361 364.198,313.854C364.392,314.348 364.382,314.899 364.171,315.385C359.888,325.216 339.733,371.485 336.833,378.142C336.611,378.652 336.611,379.231 336.833,379.74C339.735,386.401 359.911,432.719 364.196,442.555C364.637,443.568 364.173,444.746 363.161,445.187C362.887,445.307 362.604,445.43 362.33,445.549C361.843,445.761 361.293,445.771 360.799,445.577C360.305,445.383 359.909,445.001 359.697,444.515C355.469,434.807 335.727,389.488 331.499,379.78C331.389,379.528 331.333,379.258 331.332,378.988L331.332,378.969L331.332,378.962Z" transform="matrix(1,0,0,1,-1536.33,-311.603) matrix(-1.22563,0,0,2.33454,2214.31,-1728.65) matrix(0.815904,0,0,0.42835,255.366,740.467)"/></svg></button></div></div></div><div class="slider--navigation"><div class="slider--navigation-inner"><ul><li title="1"><span>1</span></li><li title="2"><span>2</span></li><li title="3"><span>3</span></li><li title="4"><span>4</span></li><li title="5"><span>5</span></li><li title="6"><span>6</span></li></ul></div></div></div></div><header class="bicycle-modal--header"><div class="row"><div class="col-12 col-md-8"><div class="bicycle-modal--title">Stero 140</div><div class="bicycle-modal-brand">Cube</div></div><div class="col-12 col-md-4"><a class="bicycle-modal--request-action" href="/radlboerse/anfrage-erstellen?tx_entitybicyclemarket_frontend%5Baction%5D=request&amp;tx_entitybicyclemarket_frontend%5Bbicycle%5D=1&amp;tx_entitybicyclemarket_frontend%5Bcontroller%5D=Bicycle&amp;cHash=03ea7b8cf4688c557bc9bd9f9e89859d">Send request</a></div></div></header><div class="bicycle-modal--price"><div class="bicycle-modal--price-title">Price</div><div class="bicycle-modal--price-value">Negotiation Basis</div></div><div class="bicycle-modal--properties"><div class="row"><div class="col-12 col-sm-4 col-lg-3 bicycle-modal--property-title">Condition</div><div class="col-12 col-sm-8 col-lg-9 bicycle-modal--property-value">
						As new

						<p>Fahrrad wurde nur auf einer einstündigen Testfahrt benutzt. Leichte Gebrauchsspuren an den Pedalen.</p></div><div class="col-12 col-sm-4 col-lg-3 bicycle-modal--property-title">Service Condition</div><div class="col-12 col-sm-8 col-lg-9 bicycle-modal--property-value"><p>Kompletter Service durchgeführt. Die Bremsen wurden erneuert.</p></div><div class="col-12 col-sm-4 col-lg-3 bicycle-modal--property-title">Manufacturer Guarantee</div><div class="col-12 col-sm-8 col-lg-9 bicycle-modal--property-value bicycle-modal--property-value-manufacturer-guarantee">Available</div><div class="col-12 col-sm-4 col-lg-3 bicycle-modal--property-title">Frame Size</div><div class="col-12 col-sm-8 col-lg-9 bicycle-modal--property-value">18"</div><div class="col-12 col-sm-4 col-lg-3 bicycle-modal--property-title">Wheel Size</div><div class="col-12 col-sm-8 col-lg-9 bicycle-modal--property-value">29"</div></div></div></div>


				</div>
			</div>
		</div>


	</f:section>
</html>
